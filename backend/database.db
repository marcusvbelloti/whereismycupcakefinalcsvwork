-- Create cupcakes table
CREATE TABLE cupcakes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    description TEXT NOT NULL,
    price REAL NOT NULL
);

-- Insert sample data: 20 fun cupcake flavors
INSERT INTO cupcakes (name, description, price) VALUES
    ('Chocolate Delight', 'Rich chocolate cupcake with ganache filling', 4.50),
    ('Vanilla Dream', 'Classic vanilla cupcake with buttercream frosting', 3.50),
    ('Red Velvet', 'Smooth red velvet with cream cheese frosting', 4.75),
    ('Lemon Zest', 'Zesty lemon cupcake with lemon cream', 4.00),
    ('Caramel Crunch', 'Caramel-infused cupcake with crunchy topping', 4.25),
    ('Strawberry Fields', 'Fresh strawberry cupcake with strawberry jam', 4.50),
    ('Coconut Paradise', 'Coconut flavored cupcake with a coconut flake topping', 4.00),
    ('Espresso Shot', 'Mocha cupcake with espresso buttercream', 4.75),
    ('Minty Fresh', 'Mint-infused chocolate cupcake', 4.50),
    ('Peanut Butter Cup', 'Peanut butter cupcake with chocolate drizzle', 4.75),
    ('Cookies and Cream', 'Classic Oreo-filled cupcake', 4.25),
    ('Pumpkin Spice', 'Seasonal pumpkin cupcake with spices', 4.00),
    ('Blueberry Blast', 'Blueberry cupcake with blueberry frosting', 4.25),
    ('Maple Pecan', 'Maple-flavored cupcake with pecan topping', 4.75),
    ('Choco-Berry', 'Chocolate cupcake with raspberry frosting', 4.50),
    ('Salted Caramel', 'Salted caramel cupcake with caramel center', 4.50),
    ('Almond Joy', 'Almond-flavored cupcake with almond slivers', 4.25),
    ('Cherry Bomb', 'Cherry cupcake with cherry center', 4.00),
    ('Banana Split', 'Banana-flavored cupcake with chocolate drizzle', 4.50),
    ('Hazelnut Heaven', 'Hazelnut chocolate cupcake', 4.75);

-- Create cart table
CREATE TABLE cart (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    cupcake_id INTEGER NOT NULL,
    FOREIGN KEY (cupcake_id) REFERENCES cupcakes (id) ON DELETE CASCADE
);

-- Create orders table
CREATE TABLE orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    status TEXT NOT NULL,  -- e.g., 'pending', 'completed', 'cancelled'
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create subscriptions table
CREATE TABLE subscriptions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_name TEXT NOT NULL,   -- Name of the subscriber
    active BOOLEAN DEFAULT TRUE, -- If the subscription is active
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- Subscription start date
);
